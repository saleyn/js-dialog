<html>
<head>
<meta charset="UTF-8">
<script src="../dist/dialog.js"></script>

<script>
  const display = (val = undefined) =>
    document.getElementById('res').innerHTML = val ? `Result = <code>${JSON.stringify(val)}</code>` : ''

  function testConfirm() {
    display()
    Dialog.confirm("Confirm action?", "<div style=\"font-size: 1.5em;\">Custom text</div>",
                   (ok) => ok && alert('OK pressed!'))
  }

  function testPrompt() {
    display()
    Dialog.prompt('Data entry', 'Type some text:', (result) => display(result))
  }

  function testNestedPrompt() {
    display()
    Dialog.prompt('Data entry', 'Type some text:', (result) => {
      result.ok
        ? Dialog.confirm('Confirm', 'Are you sure you want to confirm the entry?',
                          (res) => {
                            if (res)
                                Dialog.alert('Info', 'Entered: ' + result.values[0].value,
                                             () => display(result))
                            else
                                result.ok = false
                          })
        : display(result)
    })
  }
</script>
</head>

<body>
<div id="dlg-window"></div>
<h1 id="status">Dialog Examples</h1>
<button onclick='testConfirm()'>Confirm</button>
<button onclick="testPrompt()">Prompt</button>
<button onclick="testNestedPrompt()">Nested Prompt</button>
<button onclick="display(); Dialog.alert('Alert', 'Hello World', {persistent: true, action: () => display('Alerted!')})">Alert</button>

Theme:
<select id='sel' onchange="localStorage.setItem('dlg-theme-mode', document.getElementById('sel').value)">
  <option value="dark">Dark</option>
  <option value="light">Light</option>
</select>

<div id="res" style="margin-top: 50px;"></div>
</body>
</html>
